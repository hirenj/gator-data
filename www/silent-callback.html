<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.auth0.com/js/auth0/8.9.3/auth0.min.js"></script>
    <script src="/credentials.js"/></script>
    <script type="text/javascript">
      fetch(window.location.hostname == 'localhost' ? 'https://test.glycocode.com/api/login/config' : '/api/login/config').then(function(response) {
        return response.json();
      }).then(function(config) {
        MASCP.AUTH0_AUDIENCE = config.API_AUDIENCE;
        MASCP.AUTH0_DOMAIN = config.AUTH0_DOMAIN + ".auth0.com";
        var webAuth = new auth0.WebAuth({
          clientID: MASCP.AUTH0_CLIENT_ID,
          domain: MASCP.AUTH0_DOMAIN,
        });
        var result = webAuth.parseHash(window.location.hash,function(err,result) {
          parent.postMessage(err || result || { error: "No response" }, window.location.origin );
        });
      });
    </script>
  </head>
  <body></body>
</html>